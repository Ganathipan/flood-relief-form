<!DOCTYPE html>
<html>
<head>
  <title>Flood Relief Registration</title>
  <style>
    body { font-family: Arial; padding: 20px; }
    label { font-weight: bold; display: block; margin-top: 15px; }
    select, input { width: 100%; padding: 8px; margin-top: 5px; }
    button { padding: 10px; margin-top: 20px; width: 100%; }
  </style>
</head>

<body>
  <h2>Flood Relief Registration</h2>

  <label>Your Name</label>
  <input type="text" id="name" required>

  <label>District</label>
  <select id="district" onchange="loadAreas()">
    <option>Select District</option>
    <option>Colombo</option>
    <option>Kandy</option>
    <option>Jaffna</option>
    <option>Batticaloa</option>
    <option>Kurunegala</option>
    <!-- add all 25 districts -->
  </select>

  <label>Area / Town</label>
  <select id="area">
    <option>Select District First</option>
  </select>

  <label>Your GPS Location</label>
  <input type="text" id="gps" readonly>
  <button onclick="getLocation()">Get My Location</button>

  <button onclick="submitForm()">Submit</button>

  <script>
    const areas = {
      "Colombo": ["Colombo 01", "Colombo 02", "Kotte", "Dehiwala"],
      "Kandy": ["Kandy City", "Peradeniya", "Gampola"],
      "Jaffna": ["Jaffna City", "Nallur", "Kopay"],
      "Batticaloa": ["Batticaloa City", "Kattankudy"],
      "Kurunegala": ["Kurunegala City", "Kuliyapitiya"]
      // Add all simplified area lists
    };

    function loadAreas() {
      const district = document.getElementById("district").value;
      const areaSelect = document.getElementById("area");
      areaSelect.innerHTML = "";

      areas[district].forEach(function(a) {
        let opt = document.createElement("option");
        opt.textContent = a;
        areaSelect.appendChild(opt);
      });
    }

    function getLocation() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(function(pos) {
          document.getElementById("gps").value =
            pos.coords.latitude + ", " + pos.coords.longitude;
        });
      }
    }

    function submitForm() {
      const data = {
        name: document.getElementById("name").value,
        district: document.getElementById("district").value,
        area: document.getElementById("area").value,
        gps: document.getElementById("gps").value
      };

      fetch("YOUR_GOOGLE_APPS_SCRIPT_URL", {
        method: "POST",
        mode: "no-cors",
        body: JSON.stringify(data)
      });

      alert("Submitted Successfully!");
    }
  </script>
</body>
</html>
